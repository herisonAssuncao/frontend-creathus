{"remainingRequest":"/home/herison/projetos/vue_crud_bootstrap/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/herison/projetos/vue_crud_bootstrap/src/views/AddContato.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/herison/projetos/vue_crud_bootstrap/src/views/AddContato.vue","mtime":1615398392968},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEJNb2RhbCwgQkZvcm0gfSBmcm9tICdib290c3RyYXAtdnVlJwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoLCBtYXhMZW5ndGgsIGVtYWlsIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBvcHRpb25zOiBbCiAgICAgICAgeyB2YWx1ZTogJ00nLCB0ZXh0OiAnTWFzY3VsaW5vJyB9LAogICAgICAgIHsgdmFsdWU6ICdGJywgdGV4dDogJ0ZlbWluaW5vJyB9CiAgICAgIF0sCiAgICAgIGNvbnRhdG86IHsKICAgICAgICBpZDogJycsCiAgICAgICAgbm9tZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGNvbnRhY3Q6ICcnLAogICAgICAgIHNleG86ICcnCiAgICAgIH0sCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UKICAgIH0KICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBjb250YXRvOiB7CiAgICAgIG5vbWU6IHsgcmVxdWlyZWQgfSwKICAgICAgZW1haWw6IHsgcmVxdWlyZWQsIGVtYWlsIH0sCiAgICAgIHRlbGVmb25lOiB7IHJlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCgxMCksIG1heExlbmd0aDogbWF4TGVuZ3RoKDEyKSB9LAogICAgICBzZXhvOiB7IHJlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCgxKSwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMSkgfQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLiRyb290LiRvbignZWRpdC1jb250YXRvJywgKGRhdGEpID0+IHsKICAgICAgdGhpcy5jb250YXRvID0gZGF0YQogICAgICB0aGlzLmNvbnRhdG8uaXNFZGl0ID0gdHJ1ZQogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlCiAgICB9KQogICAgdGhpcy4kcm9vdC4kb24oJ2FkZC1jb250YXRvJywgKGRhdGEpID0+IHsKICAgICAgdGhpcy5jb250YXRvID0ge30KICAgICAgdGhpcy5jb250YXRvLmlzRWRpdCA9IGZhbHNlCiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2UKICAgIH0pCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnYi1tb2RhbCc6IEJNb2RhbCwKICAgICdiLWZvcm0nOiBCRm9ybQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc2FsdmFDb250YXRvIChjb250YXRvKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICdodHRwOi8vNTQuOTQuODAuNjk6OTAwMC9hcGkvY29udGF0b3MnLAogICAgICAgICAgewogICAgICAgICAgICBub21lOiBjb250YXRvLm5vbWUsCiAgICAgICAgICAgIGVtYWlsOiBjb250YXRvLmVtYWlsLAogICAgICAgICAgICB0ZWxlZm9uZTogY29udGF0by50ZWxlZm9uZSwKICAgICAgICAgICAgc2V4bzogY29udGF0by5zZXhvCiAgICAgICAgICB9CiAgICAgICAgKQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGFsZXJ0KGVycm9yKQogICAgICB9CiAgICB9LAogICAgc3VibWl0Rm9ybSAoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZQogICAgICB0aGlzLiR2LiR0b3VjaCgpCiAgICAgIGlmICh0aGlzLiR2LiRpbnZhbGlkKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMuc2FsdmFDb250YXRvKHRoaXMuY29udGF0bykKICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCdhZGROZXdDb250YXRvJykKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F0dWFsaXphRGF0YXRhYmxlJykgLy8gZGlzcGF0Y2ggc3RvcmUgYWN0aW9uCiAgICB9LAogICAgcmVzZXRGb3JtICgpIHsKICAgICAgdGhpcy5jb250YXRvID0ge30KICAgICAgdGhpcy5jb250YXRvLmlzRWRpdCA9IGZhbHNlCiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2UKICAgIH0KICB9Cn0K"},{"version":3,"sources":["AddContato.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddContato.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <b-modal id=\"addNewContato\" title=\"Cadastrar Contato\">\n      <b-form>\n        <b-form-group\n          id=\"input-group-2\"\n          label=\"Name:\"\n          label-for=\"input-2\">\n          <b-form-input\n            id=\"input-2\"\n            v-model=\"contato.nome\"\n            type=\"text\"\n            required\n            placeholder=\"Nome\">\n          </b-form-input>\n          <span v-if=\"submitted && $v.contato.nome.$error\" class=\"errorMsg\">Por favor informe o Nome</span>\n        </b-form-group>\n        <b-form-group\n          id=\"input-group-3\"\n          label=\"Email:\"\n          label-for=\"input-3\">\n          <b-form-input\n            id=\"input-3\"\n            v-model=\"contato.email\"\n            type=\"email\"\n            required\n            placeholder=\"Email\">\n          </b-form-input>\n          <div v-if=\"submitted && $v.contato.email.$error\" class=\"errorMsg\">\n            <span v-if=\"!$v.contato.email.required\">Por favor informe o Email</span>\n            <span v-if=\"$v.contato.email && !$v.contato.email.email\">Informe um email válido</span>\n          </div>\n        </b-form-group>\n        <b-form-group\n          id=\"input-group-4\"\n          label=\"Contato:\"\n          label-for=\"input-4\">\n          <b-form-input\n            id=\"input-4\"\n            v-model=\"contato.telefone\"\n            type=\"text\"\n            required\n            placeholder=\"Telefone\">\n          </b-form-input>\n          <span v-if=\"submitted && $v.contato.telefone.$error\" class=\"errorMsg\">\n            <span v-if=\"!$v.contato.telefone.required\">Por favor informe o Telefone</span>\n            <span v-if=\"!$v.contato.telefone.minLength\">Permitido no mínimo 10 caracteres</span>\n            <span v-if=\"!$v.contato.telefone.maxLength\">Permitido no máximo 12 caracteres</span>\n          </span>\n        </b-form-group>\n        <b-form-group\n          id=\"input-group-2\"\n          label=\"Sexo:\"\n          label-for=\"input-2\">\n          <b-form-select v-model=\"contato.sexo\" :options=\"options\"></b-form-select>\n           <span v-if=\"submitted && $v.contato.sexo.$error\" class=\"errorMsg\">Por favor inform o Sexo</span>\n        </b-form-group>\n      </b-form>\n      <template v-slot:modal-footer>\n        <div class=\"w-100\">\n          <b-button\n            variant=\"danger\"\n            size=\"sm\"\n            class=\"float-right m-l-10\"\n            @click=\"submitForm\">\n            Salvar\n          </b-button>\n          <b-button\n            variant=\"primary\"\n            size=\"sm\"\n            class=\"float-right\"\n            @click=\"resetForm\">\n            Cancelar\n          </b-button>\n        </div>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { BModal, BForm } from 'bootstrap-vue'\nimport { required, minLength, maxLength, email } from 'vuelidate/lib/validators'\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      options: [\n        { value: 'M', text: 'Masculino' },\n        { value: 'F', text: 'Feminino' }\n      ],\n      contato: {\n        id: '',\n        nome: '',\n        email: '',\n        contact: '',\n        sexo: ''\n      },\n      submitted: false\n    }\n  },\n  validations: {\n    contato: {\n      nome: { required },\n      email: { required, email },\n      telefone: { required, minLength: minLength(10), maxLength: maxLength(12) },\n      sexo: { required, minLength: minLength(1), maxLength: maxLength(1) }\n    }\n  },\n  mounted () {\n    this.$root.$on('edit-contato', (data) => {\n      this.contato = data\n      this.contato.isEdit = true\n      this.submitted = false\n    })\n    this.$root.$on('add-contato', (data) => {\n      this.contato = {}\n      this.contato.isEdit = false\n      this.submitted = false\n    })\n  },\n  components: {\n    'b-modal': BModal,\n    'b-form': BForm\n  },\n  methods: {\n    async salvaContato (contato) {\n      try {\n        await axios.post(\n          'http://54.94.80.69:9000/api/contatos',\n          {\n            nome: contato.nome,\n            email: contato.email,\n            telefone: contato.telefone,\n            sexo: contato.sexo\n          }\n        )\n      } catch (error) {\n        alert(error)\n      }\n    },\n    submitForm () {\n      this.submitted = true\n      this.$v.$touch()\n      if (this.$v.$invalid) {\n        return\n      }\n\n      this.salvaContato(this.contato)\n      this.$bvModal.hide('addNewContato')\n      this.$store.dispatch('atualizaDatatable') // dispatch store action\n    },\n    resetForm () {\n      this.contato = {}\n      this.contato.isEdit = false\n      this.submitted = false\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}