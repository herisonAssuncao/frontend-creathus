{"remainingRequest":"/home/herison/projetos/vue_crud_bootstrap/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/herison/projetos/vue_crud_bootstrap/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/herison/projetos/vue_crud_bootstrap/src/views/Home.vue","mtime":1615398542988},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/herison/projetos/vue_crud_bootstrap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZGRDb250YXRvIGZyb20gJy4vQWRkQ29udGF0by52dWUnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50czogewogICAgQWRkQ29udGF0bwogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZHM6IFsKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdpZCcsIGxhYmVsOiAnSUQnLCBzb3J0YWJsZTogdHJ1ZSwgc29ydERpcmVjdGlvbjogJ2Rlc2MnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdub21lJywgbGFiZWw6ICdOYW1lJywgc29ydGFibGU6IHRydWUsIGNsYXNzOiAndGV4dC1sZWZ0JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAnZW1haWwnLCBsYWJlbDogJ0VtYWlsJywgc29ydGFibGU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogJ3RlbGVmb25lJywgbGFiZWw6ICdUZWxlZm9uZScsIHNvcnRhYmxlOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdzZXhvJywgbGFiZWw6ICdTZXhvJywgc29ydGFibGU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogJ2FjdGlvbicsIGxhYmVsOiAnQWN0aW9ucycKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGNvbnRhdG9zOiBbXSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHRvdGFsUm93czogMCwKICAgICAgcGVyUGFnZTogMywKICAgICAgcGFnZU9wdGlvbnM6IFsyLCA1LCAxMCwgMTVdCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdGFDb250YXRvcyAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5kYWRvc0NvbnRhdG9zCiAgICB9LAogICAgcGFnaW5hY2FvICgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnBhZ2luYWNhbwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHBhZ2luYWNhbyAodmFsKSB7CiAgICAgIHRoaXMucGVyUGFnZSA9IHZhbC5wYWdlYWJsZS5wYWdlU2l6ZQogICAgICB0aGlzLnRvdGFsUm93cyA9IHZhbC50b3RhbEVsZW1lbnRzCiAgICB9LAogICAgbGlzdGFDb250YXRvczogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAobGlzdCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnbgogICAgICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy50b3RhbFJvd3MKICAgICAgfQogICAgfSwKICAgIGN1cnJlbnRQYWdlICh2YWwpIHsKICAgICAgdGhpcy5nZXRDb250YXRvcygodmFsIC0gMSkpCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuY2FycmVnYUxpc3RhQ29udGF0bygpCiAgICB0aGlzLmdldENvbnRhdG9zKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENvbnRhdG9zIChwYWdlID0gMCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXR1YWxpemFEYXRhdGFibGUnLCBwYWdlKQogICAgfSwKICAgIGNhcnJlZ2FMaXN0YUNvbnRhdG8gKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1hc3NpZ24KICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLnRvdGFsUm93cwogICAgfSwKICAgIGFzeW5jIHJlbW92ZUNvbnRhdG8gKGlkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKGBodHRwOi8vNTQuOTQuODAuNjk6OTAwMC9hcGkvY29udGF0b3MvJHtpZH1gKQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGFsZXJ0KGVycm9yKQogICAgICB9CiAgICB9LAogICAgYWRkQ29udGF0byAoKSB7CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2FkZC1jb250YXRvJywge30pCiAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygnYWRkTmV3Q29udGF0bycpCiAgICB9LAogICAgZWRpdENvbnRhdG8gKGNvbnRhdG8pIHsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgnZWRpdC1jb250YXRvJywgT2JqZWN0LmFzc2lnbih7fSwgY29udGF0by5pdGVtKSkKICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCdhZGROZXdDb250YXRvJykKICAgIH0sCiAgICBkZWxldGVDb250YXRvIChjb250YXRvKSB7CiAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94Q29uZmlybSgnUG9yIGZhdm9yLCBjb25maXJtZSBxdWUgdm9jw6ogZGVzZWphIGV4Y2x1aXIgbyBjb250YXRvLicsIHsKICAgICAgICB0aXRsZTogJ1BvciBmYXZvciBjb25maXJtZScsCiAgICAgICAgc2l6ZTogJ21tJywKICAgICAgICBidXR0b25TaXplOiAnc20nLAogICAgICAgIG9rVmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgb2tUaXRsZTogJ1NJTScsCiAgICAgICAgY2FuY2VsVGl0bGU6ICdOQU8nLAogICAgICAgIGZvb3RlckNsYXNzOiAncC0yJywKICAgICAgICBoaWRlSGVhZGVyQ2xvc2U6IGZhbHNlLAogICAgICAgIGNlbnRlcmVkOiB0cnVlCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7CiAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5yZW1vdmVDb250YXRvKGNvbnRhdG8uaWQpCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhdHVhbGl6YURhdGF0YWJsZScpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm8pID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvJywgUmFuZ2VFcnJvcikKICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <h3 class=\"heading\">Agenda de Contatos</h3>\n    <div style=\"float:right;margin:10px;\">\n      <b-button size=\"sm\" @click=\"addContato\">Cadastrar Contato</b-button>\n    </div>\n  <div class=\"table-responsive\">\n    <table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">Nome</th>\n      <th scope=\"col\">Email</th>\n      <th scope=\"col\">Telefone</th>\n      <th scope=\"col\">Sexo</th>\n      <th>Ações</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-for=\"(contato, index) in listaContatos\" :key=\"index\">\n      <td>{{contato.id}}</td>\n      <td>{{contato.nome}}</td>\n      <td>{{contato.email}}</td>\n      <td>{{contato.telefone}}</td>\n      <td>{{contato.sexo}}</td>\n      <td><b-button size=\"sm\" class=\"mr-1\" @click=\"editContato(contato)\">\n          Editar\n        </b-button>\n        <b-button size=\"sm\" @click=\"deleteContato(contato)\">\n          Excluir\n        </b-button></td>\n    </tr>\n  </tbody>\n</table>\n </div>\n    <b-col sm=\"3\" md=\"3\" class=\"my-1 float-right\">\n      <b-pagination\n        v-model=\"currentPage\"\n        :total-rows=\"totalRows\"\n        :per-page=\"perPage\"\n       >\n      </b-pagination>\n    </b-col>\n    <AddContato />\n  </div>\n</template>\n\n<script>\nimport AddContato from './AddContato.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'Home',\n  components: {\n    AddContato\n  },\n  data () {\n    return {\n      fields: [\n        {\n          key: 'id', label: 'ID', sortable: true, sortDirection: 'desc'\n        },\n        {\n          key: 'nome', label: 'Name', sortable: true, class: 'text-left'\n        },\n        {\n          key: 'email', label: 'Email', sortable: true\n        },\n        {\n          key: 'telefone', label: 'Telefone', sortable: true\n        },\n        {\n          key: 'sexo', label: 'Sexo', sortable: true\n        },\n        {\n          key: 'action', label: 'Actions'\n        }\n      ],\n      contatos: [],\n      currentPage: 1,\n      totalRows: 0,\n      perPage: 3,\n      pageOptions: [2, 5, 10, 15]\n    }\n  },\n  computed: {\n    listaContatos () {\n      return this.$store.state.dadosContatos\n    },\n    paginacao () {\n      return this.$store.state.paginacao\n    }\n  },\n  watch: {\n    paginacao (val) {\n      this.perPage = val.pageable.pageSize\n      this.totalRows = val.totalElements\n    },\n    listaContatos: {\n      deep: true,\n      handler: function (list) {\n        // eslint-disable-next-line no-self-assign\n        this.totalRows = this.totalRows\n      }\n    },\n    currentPage (val) {\n      this.getContatos((val - 1))\n    }\n  },\n  created () {\n    this.carregaListaContato()\n    this.getContatos()\n  },\n  methods: {\n    getContatos (page = 0) {\n      this.$store.dispatch('atualizaDatatable', page)\n    },\n    carregaListaContato () {\n      // eslint-disable-next-line no-self-assign\n      this.totalRows = this.totalRows\n    },\n    async removeContato (id) {\n      try {\n        await axios.delete(`http://54.94.80.69:9000/api/contatos/${id}`)\n      } catch (error) {\n        alert(error)\n      }\n    },\n    addContato () {\n      this.$root.$emit('add-contato', {})\n      this.$bvModal.show('addNewContato')\n    },\n    editContato (contato) {\n      this.$root.$emit('edit-contato', Object.assign({}, contato.item))\n      this.$bvModal.show('addNewContato')\n    },\n    deleteContato (contato) {\n      this.$bvModal.msgBoxConfirm('Por favor, confirme que você deseja excluir o contato.', {\n        title: 'Por favor confirme',\n        size: 'mm',\n        buttonSize: 'sm',\n        okVariant: 'danger',\n        okTitle: 'SIM',\n        cancelTitle: 'NAO',\n        footerClass: 'p-2',\n        hideHeaderClose: false,\n        centered: true\n      })\n        .then((value) => {\n          if (value) {\n            this.removeContato(contato.id)\n            this.$store.dispatch('atualizaDatatable')\n          }\n        })\n        .catch((erro) => {\n          console.log('erro', RangeError)\n        })\n    }\n  }\n}\n</script>\n"]}]}